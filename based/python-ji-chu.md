# Python基础

## 一、约定

1. Python以缩进确定语法。        
   * Python中每一行代码就是一条语句。
   * 按照约定俗成的惯例，应该始终坚持使用4个空格的缩进。虽然没有规定缩进是几个空格还是Tab。
   * 重构代码时，粘贴过去的代码必须重新检查缩进是否正确，否者极其容易出错。
2. 程序是大小写敏感的，在Python程序中如果写错了大小写，程序会报错
3. 使用`#`来表示注释，或者是`'''`三个引号。
   * 在Python中以\#开头的语句是注释语句，解释器会主动忽略
   * 使用`'''`可以进行多行注释。

## 二、标识符

Python中所有可以自主命名的内容都属于标识符。比如：变量名、函数名、类名。

标识符必须遵循标识符的规范:

1. 标识符中可以含有字母、数字、\_\(下划线\)但是不能使用数字开头 。
2. 标识符不能是Python中的关键字和保留字；也不建议使用Python中的函数名作为标识符,因为这样会导致函数被覆盖。

在Python中注意遵循两种命名规范：

* 下划线命名法

  ```text
      -所有字母小写，单词之间使用`_`分割
      -hello_world  xxx_yyy_zzz
  ```

* Pascal命名法（大驼峰命名法）

  ```text
     -首字母大写，每个单词开头字母大写，其余字母小写
     -HelloWorld  XxxYyyZzz
  ```

## 三、数据类型

Python中能直接处理的基础数据类型包含数值（整数、浮点数、复数）、字符串、布尔值、空值。

数据类型还包括列表、元组、集合、字典、自定义数据类型等较复杂数据类型。

### 数值类型

在Python中所有的整数都是int类型，Python中的整数的大小没有限制，可以是一个无限大的整数。

所有的小数都是float类型，对浮点数进行运算时，可能会得到一个不精确的结果。 数值的大小范围无限制。

整数和浮点数在计算机内部存储的方式是不同的，整数运算永远是精确的（除法难道也是精确的？是的！而浮点数运算则可能会有四舍五入的误差。

浮点数可以用数学写法，如1.23，3.14，-9.01，等等。也可以用科学计数法表示，把10用e替代。

复数是在复数域中使用的数值，超出了实数的范围，与实数并列。复数的序数单位不再是`i`而是`j`，虚部如果是1也不能省略，否者报错。

内置计算函数：

```python
#内置函数计算
abs(x)
#绝对值（absolute）
# 返回一个数的绝对值。 参数可以是一个整数或浮点数。 如果参数是复数，则返回它的模。
# 请先忽略本句： 如果 x 定义了 __abs__()，则 abs(x) 将返回 x.__abs__()。
print(abs(1+1j))#1.4142135623730951

max(arg1, arg2, *args[, key])
# 返回可迭代对象中最大的元素，或者返回两个及以上实参中最大的。
a = 30
b = 40
c = 10
print(max(a,b,c))#40
list = [20,30,10,20]
print(max(list))#30

min(arg1, arg2, *args[, key])
# 返回可迭代对象中最小的元素，或者返回两个及以上实参中最小的。
min函数的用法类同于max，只是返回的值是最小值。

sum(iterable, /, start=0)
# 从 start 开始自左向右对 iterable(可迭代) 的项求和并返回总计值。 iterable 的项通常为数字，而 start 值则不允许为字符串。
list = [1,2,3,4]
sum(list)#10
```

### 字符类型

字符串是以单引号`'`或双引号`"`括起来的任意文本，比如`'abc'，"xyz"`等等。`''`或`""`本身只是一种表示方式，不是字符串的一部分，因此，字符串`'abc'`只有`a`，`b`，`c`这3个字符。如果'本身也是一个字符，那就可以用""括起来，比如`"I'm OK"` 。

1. 可以使用`\`让长字符串实现跨行输出。或者使用三重引号保留字符串中的格式 `'''`
2. `\`也是转义字符，可以实现转义效果，`\t \n \\`
3. 字符串的格式化：

   * 字符串间进行加法运算，会自动将两个字符串拼接为一个，`*`乘法是复制字符串

     ```python
     a = 'abc' + '123'   
     print(a)# abc1232   
     字符串不能和其他的类型进行加法运算，如果做了会出现异常 TypeError: must be str, not int

     >>> a = '12ds'
     >>> a = a*3
     >>> a
         '12ds12ds12ds'
     ```

   * 创建字符串时，可以在字符串中指定占位符

     ```python
     %s 字符串占位符            b = 'Hello %s'%'你好'       eg:hello 你好
     %f 浮点数占位符            b = 'hello %.2f'%123.456    eg:hello 123.45  （默认则输出小数点后六位）
     %d 整数占位符              b = 'hello %d'%123.95       eg:hello 123

     -当有多个占位符时，可以使用括号（）来将待输出量括起来
     print("%d\n%.3f\n%s\n%s\n%s\n%s" % (n, f, s1, s2, s3, s4))
     特殊格式简介：
             %3s    意味着：字符串最小长度为3，不足用空格左补齐
             %3.5s  意味着：字符串的长度限制在3-5之间
             %.2f   意味着：小数点后保留两位小数
     ```

   * 格式化字符串中可以直接嵌入变量

     ```python
     通过在字符串前添加一个f来创建一个格式化字符串
     a = 'boy'   
     b = '132'   
     c = f'love{a}{b}'  
     print(c)  
     输出：loveboy132  
     print(f'str = {c}')  
     输出：str = loveboy132
     ```

   可以用于在某些需求中，如何在字符串中嵌入变量比较重要。

### 布尔值（bool）和空值（None）

布尔值一共有两个 True 和 False，True表示真 False表示假，布尔值可以看作整型，True就相当于1，False就相当于0 ，其实是自动类型转换。

| bool | 类型 | 值 |
| :--- | :--- | :--- |
| ture | int | 1 |
| false | int | 0 |

布尔值可以使用`and`、`or`和`no`t逻辑运算：

* and运算是与运算，只有所有都为True，and运算结果才是True
* or运算是或运算，只要其中有一个为True，or运算结果就是True
* not运算是非运算，它是一个单目运算符，把True变成False，False变成True

空值`None`：专门用来表示不存在，空值是Python里一个特殊的值，用None表示。None不能理解为0，因为0是有意义的，而None是一个特殊的值，用来表示不存在

使用`type（）`函数可以查探变量的数据类型：

```python
print(type(1)) # <class 'int'>
print(type(1.5)) # <class 'float'>
print(type(True)) # <class 'bool'>
print(type('hello'))  # <class 'str'>
print(type(None)) # <class 'NoneType'>
```

## 四、类型转换

所谓的类型转换，就是将一个类型的对象转换为其他类型的对象，类型转换并不改变对象本身的类型；而是根据当前对象的值创建一个新的对象。

类型转换函数 `int()` `float()` `str()` `bool()`：

**int\(\)** 可以将其他的对象转换为整型：

* int\(\)函数不会对原来的变量产生影响，而是将对象转换为指定的类型并作为返回值返回。
  * 如果希望修改原来的变量，则需要对变量进行重新赋值

规则：

1. 布尔值：True --&gt; 1   False --&gt; 0        （Python中Ture和False首字母应该大写）

```python
 >>> a = True    # 注意True应该大写首字母，否则报错NameError: name 'ture' is not defined
>>> a
True
>>> b = int(a)
>>> b
1               # Ture=1 | False=0  
>>> a
True            # 不改变对象本身的类型
```

1. 浮点数：直接取整，省略小数点后的内容
2. 字符串：合法的整数字符串，直接转换为对应的数字，否则报错

```python
 >>> a = '12.5'
>>> a
'12.5'
>>> a = int(a)      # 报错
Traceback (most recent call last):
a = int(a)
ValueError: invalid literal for int() with base 10: '12.5'
# 对于其他不可转换为整型的对象，直接抛出异常 ValueError
```

**float\(\)** 可以将对象转换为浮点数

**str\(\)** 可以将对象转换为字符串，任何对象都可以转换为字符串，几乎没有限制

**bool\(\)** 可以将对象转换为布尔值。任何对象都可以转换为布尔值，对于所有表示空性（0，None，' '空字符串）的对象都转换为False，其余的转换为True。

## 变量\|常量

所谓**常量**就是不能变的变量，比如常用的数学常数π就是一个常量。在Python中，通常用全部大写的变量名表示常量，PI = 3.1415926。

**变量**在程序中就是用一个变量名表示，变量名必须是大小写英文、数字和\_的组合，且不能用数字开头，变量不仅可以是数字，还可以是任意数据类型，python中等号`=`是赋值语句，可以把任意数据类型赋值给变量，同一个变量可以反复赋值，而且可以是不同类型的变量。因为Python是动态语言，变量本身类型并不固定。

Python支持多种数据类型，在计算机内部，可以把任何数据都看成一个“对象”，而变量就是在程序中用来指向这些数据对象的，对变量赋值就是把数据和变量给关联起来。

### 对象和变量关系辨明

* 程序运行当中，所有的数据都是存储到内存当中然后再运行的，对象就是内存中专门用来存储数据的一块区域
* 对象并没有直接存储到变量中，变量中存储的不是对象的值，而是对象的id（内存地址）
* 通常我们通过变量来引用对象，而不是直接操作对象

### 变量在内存中的表示

当我们写： a = 'ABC'时，Python解释器干了两件事情：

​ 1、在内存中创建了一个'ABC'的字符串对象；

​ 2、在内存中创建了一个变量a，并把它指向'ABC'。

也可以把一个变量a赋值给另一个变量b，这个操作实际上是把变量b指向变量a所指向的数据。

```python
a = 'ABC'
b = a
a = 'XYZ'
print(b)# ABC
```

![&#x6279;&#x6CE8;.png](https://i.loli.net/2020/07/18/28i65helCsOrV73.png)

变量中保存的是对象的ID，只有在为变量重新赋值时才会改变；变量和变量之间是相互独立的，修改一个变量不会影响另一个变量

![hua.PNG](https://i.loli.net/2020/07/18/6YOyLPAVEMpFgwh.png)

变量通过赋值来获得新的对象的ID（内存地址），之前的对象的ID会被抛弃

